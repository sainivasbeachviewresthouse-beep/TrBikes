(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[924],{8886:(e,t,n)=>{"use strict";n.d(t,{AnimatePresence:()=>h});var a=n(51082),s=n(15106),i=n(51405),l=n(19101),r=n(81214),o=n(35424),c=n(91226);let d=e=>e.key||"";function u(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let h=e=>{let{children:t,custom:n,initial:h=!0,onExitComplete:m,presenceAffectsLayout:p=!0,mode:f="sync",propagate:x=!1,anchorX:b="left",root:y}=e,[g,v]=(0,c.usePresence)(x),j=(0,s.useMemo)(()=>u(t),[t]),k=x&&!g?[]:j.map(d),C=(0,s.useRef)(!0),w=(0,s.useRef)(j),A=(0,l.useConstant)(()=>new Map),[N,P]=(0,s.useState)(j),[S,B]=(0,s.useState)(j);(0,r.useIsomorphicLayoutEffect)(()=>{C.current=!1,w.current=j;for(let e=0;e<S.length;e++){let t=d(S[e]);k.includes(t)?A.delete(t):!0!==A.get(t)&&A.set(t,!1)}},[S,k.length,k.join("-")]);let E=[];if(j!==N){let e=[...j];for(let t=0;t<S.length;t++){let n=S[t],a=d(n);k.includes(a)||(e.splice(t,0,n),E.push(n))}return"wait"===f&&E.length&&(e=E),B(u(e)),P(j),null}let{forceRender:R}=(0,s.useContext)(i.LayoutGroupContext);return(0,a.jsx)(a.Fragment,{children:S.map(e=>{let t=d(e),s=(!x||!!g)&&(j===S||k.includes(t));return(0,a.jsx)(o.PresenceChild,{isPresent:s,initial:(!C.current||!!h)&&void 0,custom:n,presenceAffectsLayout:p,mode:f,root:y,onExitComplete:s?void 0:()=>{if(!A.has(t))return;A.set(t,!0);let e=!0;A.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),B(w.current),x&&(null==v||v()),m&&m())},anchorX:b,children:e},t)})})}},16414:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var a=n(15106);let s=e=>{let t,n=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,i={setState:a,getState:s,getInitialState:()=>l,subscribe:e=>(n.add(e),()=>n.delete(e))},l=t=e(a,s,i);return i},i=e=>{let t=(e=>e?s(e):s)(e),n=e=>(function(e,t=e=>e){let n=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},l=e=>e?i(e):i},20080:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var a=n(51082),s=n(15106),i=n(43728),l=n.n(i),r=n(35473),o=n(5469),c=n(22082),d=n(84452),u=n(21257),h=n(67826),m=n(98955),p=n(51541),f=n(40996),x=n(99335);function b(e){let{show:t,onClose:n,bike:s}=e;return(0,a.jsx)(f.A,{show:t,onClose:n,title:s?"Send Enquiry for ".concat(s):"Send Enquiry",children:(0,a.jsx)(x.A,{bike:s,onSuccess:n})})}var y=n(96824);function g(e){let{name:t}=e,{bikes:n,setBikes:i}=(0,r.G)(),[f,x]=(0,s.useState)(null),[g,v]=(0,s.useState)(!0),[j,k]=(0,s.useState)(!1),[C,w]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=n.find(e=>e.name.toLowerCase()===t.toLowerCase());e?(x(e),v(!1)):(async()=>{v(!0);try{let e=await fetch("/api/bikes"),n=await e.json();if(n.success){i(n.data);let e=n.data.find(e=>e.name.toLowerCase()===t.toLowerCase());x(e||null)}}catch(e){console.error("Failed to fetch bike:",e)}finally{v(!1)}})()},[t,n,i]),g)?(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,a.jsx)(m.A,{})}):f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"py-5",children:(0,a.jsxs)(c.A,{className:"align-items-center g-4",children:[(0,a.jsx)(d.A,{md:6,children:(0,a.jsx)(y.default,{src:f.image_url||"/bike-placeholder.jpg",height:550,width:550,alt:f.name,className:"img-fluid rounded shadow-sm",style:{maxHeight:"350px",objectFit:"cover"}})}),(0,a.jsxs)(d.A,{md:6,children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,a.jsx)("h2",{className:"mb-0",children:f.name}),(0,a.jsx)(l(),{href:"/bikes",replace:!0,className:"btn btn-outline-success btn-sm fw-bold",children:"← Back to Bikes"})]}),(0,a.jsx)(u.A,{bg:f.availability?"success":"secondary",className:"mb-3",children:f.availability?"Available":"Unavailable"}),(0,a.jsxs)("p",{className:"text-muted mb-2",children:[(0,a.jsx)("strong",{children:"Category:"})," ",f.category]}),(0,a.jsxs)("p",{className:"text-muted mb-2",children:[(0,a.jsx)("strong",{children:"Color:"})," ",f.color]}),(0,a.jsxs)("p",{className:"fs-5 fw-semibold mb-3",children:["₹",f.rent_per_hour," / hour"]}),(0,a.jsxs)("div",{className:"d-flex gap-3 mt-3",children:[(0,a.jsx)(h.A,{variant:"success",size:"lg",disabled:!f.availability,onClick:()=>k(!0),children:f.availability?"Book This Bike":"Currently Unavailable"}),(0,a.jsx)(h.A,{variant:"primary",size:"lg",onClick:()=>w(!0),children:"Send Enquiry"})]})]})]})}),(0,a.jsx)(p.A,{show:j,onClose:()=>k(!1),bike:f.name}),(0,a.jsx)(b,{show:C,onClose:()=>w(!1),bike:f.name})]}):(0,a.jsxs)(o.A,{className:"py-5 text-center",children:[(0,a.jsx)("h4",{children:"Bike not found"}),(0,a.jsx)("p",{className:"text-muted",children:"Please check the URL or go back to the bikes list."}),(0,a.jsx)(l(),{href:"/bikes",replace:!0,className:"btn btn-success",children:"← Back to Bikes"})]})}},21257:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(18097),s=n.n(a),i=n(15106),l=n(19178),r=n(51082);let o=i.forwardRef((e,t)=>{let{bsPrefix:n,bg:a="primary",pill:i=!1,text:o,className:c,as:d="span",...u}=e,h=(0,l.oU)(n,"badge");return(0,r.jsx)(d,{ref:t,...u,className:s()(c,h,i&&"rounded-pill",o&&"text-".concat(o),a&&"bg-".concat(a))})});o.displayName="Badge";let c=o},22082:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(18097),s=n.n(a),i=n(15106),l=n(19178),r=n(51082);let o=i.forwardRef((e,t)=>{let{bsPrefix:n,className:a,as:i="div",...o}=e,c=(0,l.oU)(n,"row"),d=(0,l.gy)(),u=(0,l.Jm)(),h="".concat(c,"-cols"),m=[];return d.forEach(e=>{let t,n=o[e];delete o[e],null!=n&&"object"==typeof n?{cols:t}=n:t=n,null!=t&&m.push("".concat(h).concat(e!==u?"-".concat(e):"","-").concat(t))}),(0,r.jsx)(i,{ref:t,...o,className:s()(a,c,...m)})});o.displayName="Row";let c=o},35424:(e,t,n)=>{"use strict";n.d(t,{PresenceChild:()=>o});var a=n(51082),s=n(15106),i=n(33765),l=n(19101),r=n(74181);let o=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:d,custom:u,presenceAffectsLayout:h,mode:m,anchorX:p,root:f}=e,x=(0,l.useConstant)(c),b=(0,s.useId)(),y=!0,g=(0,s.useMemo)(()=>(y=!1,{id:b,initial:n,isPresent:o,custom:u,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;d&&d()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[o,x,d]);return h&&y&&(g={...g}),(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[o]),s.useEffect(()=>{o||x.size||!d||d()},[o]),"popLayout"===m&&(t=(0,a.jsx)(r.PopChild,{isPresent:o,anchorX:p,root:f,children:t})),(0,a.jsx)(i.PresenceContext.Provider,{value:g,children:t})};function c(){return new Map}},35473:(e,t,n)=>{"use strict";function a(e){return[...e].sort((e,t)=>e.availability===t.availability?new Date(e.created_at||"").getTime()-new Date(t.created_at||"").getTime():e.availability?-1:1)}n.d(t,{G:()=>s});let s=(0,n(16414).v)(e=>({bikes:[],setBikes:t=>e({bikes:a(t)}),addBike:t=>e(e=>({bikes:a([t,...e.bikes])})),updateBike:t=>e(e=>({bikes:a(e.bikes.map(e=>e.id===t.id?t:e))})),removeBike:t=>e(e=>({bikes:e.bikes.filter(e=>e.id!==t)}))}))},40996:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(51082);n(15106);var s=n(8886),i=n(806),l=n(67826);function r(e){let{show:t,onClose:n,title:r,children:o,zIndex:c=1060,topOffset:d=100}=e,u="calc(100vh - ".concat(d,"px)");return(0,a.jsx)(s.AnimatePresence,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.P.div,{onClick:n,initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},transition:{duration:.3},style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:c-10}}),(0,a.jsxs)(i.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.4},className:"rounded-start",style:{position:"fixed",top:d,right:0,height:u,width:"100%",maxWidth:"400px",backgroundColor:"#fff",borderRadius:"0 0 0 10px",boxShadow:"-4px 0 20px rgba(0,0,0,0.2)",zIndex:c,overflowY:"auto",padding:"2rem",display:"flex",flexDirection:"column"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,a.jsx)("h4",{className:"m-0",children:r}),(0,a.jsx)(l.A,{variant:"outline-secondary",size:"sm",onClick:n,children:"✕"})]}),(0,a.jsx)("div",{children:o})]})]})})}},47709:(e,t,n)=>{Promise.resolve().then(n.bind(n,20080))},51541:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(51082),s=n(15106),i=n(40996),l=n(5469),r=n(96744),o=n(27503),c=n(67826),d=n(73825),u=n(806);function h(e){let{bike:t,onSuccess:n}=e,[i,h]=(0,s.useState)({name:"",contact:"",rentalDate:"",rentalHours:1}),[m,p]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1),b=e=>{h({...i,[e.target.name]:e.target.value})},y={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:.1*e,duration:.4}})};return(0,a.jsxs)(l.A,{children:[m&&(0,a.jsx)(r.A,{variant:"danger",children:m}),f&&(0,a.jsx)(r.A,{variant:"success",children:"WhatsApp chat opened!"}),(0,a.jsxs)(o.A,{onSubmit:e=>{e.preventDefault();let{name:a,contact:s,rentalDate:l,rentalHours:r}=i;if(!a||!s||!l||!r)return void p("Please fill all fields.");p("");try{(0,d.M)({name:a,contact:s,bike:t,message:"Bike Booking Request:\nBike: ".concat(t,"\nRental Date: ").concat(l,"\nHours: ").concat(r)}),x(!0),h({name:"",contact:"",rentalDate:"",rentalHours:1}),n&&n(),setTimeout(()=>x(!1),2e3)}catch(e){p("Failed to send booking request.")}},children:[[{name:"name",type:"text",label:"Name"},{name:"contact",type:"tel",label:"Contact Number"},{name:"rentalDate",type:"date",label:"Rental Date"},{name:"rentalHours",type:"number",label:"Rental Duration (Hours)",min:1}].map((e,t)=>(0,a.jsxs)(u.P.div,{custom:t,initial:"hidden",animate:"visible",variants:y,className:"mb-3",children:[(0,a.jsx)(o.A.Label,{children:e.label}),(0,a.jsx)(o.A.Control,{type:e.type,name:e.name,value:i[e.name],onChange:b,min:e.min,placeholder:e.label})]},e.name)),(0,a.jsx)(c.A,{variant:"success",type:"submit",className:"w-100",children:"Book via WhatsApp"})]})]})}function m(e){let{show:t,onClose:n,bike:s}=e;return(0,a.jsx)(i.A,{show:t,onClose:n,title:s?"Book ".concat(s):"Book a Bike",children:(0,a.jsx)(h,{bike:s,onSuccess:n})})}},73825:(e,t,n)=>{"use strict";function a(e){let{name:t,contact:n,message:a,bike:s}=e,i=encodeURIComponent("\nHello! I would like to make an enquiry".concat(s?" for bike: ".concat(s):"",".\n\nName: ").concat(t,"\nContact: ").concat(n,"\nMessage: ").concat(a,"\n  ").trim());window.open("https://wa.me/".concat("919553355118","?text=").concat(i),"_blank")}n.d(t,{M:()=>a})},74181:(e,t,n)=>{"use strict";n.d(t,{PopChild:()=>c});var a=n(51082),s=n(23630),i=n(15106),l=n(32348);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class o extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,s.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:n,anchorX:s,root:c}=e,d=(0,i.useId)(),u=(0,i.useRef)(null),h=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,i.useContext)(l.MotionConfigContext),p=function(...e){return i.useCallback(function(...e){return t=>{let n=!1,a=e.map(e=>{let a=r(e,t);return n||"function"!=typeof a||(n=!0),a});if(n)return()=>{for(let t=0;t<a.length;t++){let n=a[t];"function"==typeof n?n():r(e[t],null)}}}}(...e),e)}(u,null==t?void 0:t.ref);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:i,right:l}=h.current;if(n||!u.current||!e||!t)return;u.current.dataset.motionPopId=d;let r=document.createElement("style");m&&(r.nonce=m);let o=null!=c?c:document.head;return o.appendChild(r),r.sheet&&r.sheet.insertRule('\n          [data-motion-pop-id="'.concat(d,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(i):"right: ".concat(l),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{o.contains(r)&&o.removeChild(r)}},[n]),(0,a.jsx)(o,{isPresent:n,childRef:u,sizeRef:h,children:i.cloneElement(t,{ref:p})})}},98955:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(51082),s=n(806);let i=()=>{let e={animate:{scaleY:[1,1.4,1],opacity:[.5,1,.5],transition:{duration:.6,repeat:1/0,repeatType:"mirror"}}},t={width:"8px",height:"40px",borderRadius:"4px",backgroundColor:"#0dcaf0",marginRight:"8px"};return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:[0,1,2,3].map(n=>(0,a.jsx)(s.P.div,{style:t,variants:e,animate:"animate",transition:{delay:.1*n}},n))})}},99335:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(51082),s=n(15106),i=n(5469),l=n(96744),r=n(27503),o=n(67826),c=n(73825),d=n(806);function u(e){let{bike:t,onSuccess:n}=e,[u,h]=(0,s.useState)({name:"",contact:"",message:""}),[m,p]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1),b=e=>{h({...u,[e.target.name]:e.target.value})},y={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:.1*e,duration:.4}})};return(0,a.jsxs)(i.A,{children:[m&&(0,a.jsx)(l.A,{variant:"danger",children:m}),f&&(0,a.jsx)(l.A,{variant:"success",children:"WhatsApp chat opened!"}),(0,a.jsxs)(r.A,{onSubmit:e=>{e.preventDefault();let{name:a,contact:s,message:i}=u;if(!a||!s||!i)return void p("Please fill all fields.");p("");try{(0,c.M)({...u,bike:t}),x(!0),h({name:"",contact:"",message:""}),n&&n(),setTimeout(()=>x(!1),2e3)}catch(e){console.error(e),p("Failed to open WhatsApp. Please try again.")}},children:[[{name:"name",type:"text",label:"Name"},{name:"contact",type:"tel",label:"Contact Number"}].map((e,t)=>(0,a.jsxs)(d.P.div,{custom:t,initial:"hidden",animate:"visible",variants:y,className:"mb-3",children:[(0,a.jsx)(r.A.Label,{children:e.label}),(0,a.jsx)(r.A.Control,{type:e.type,name:e.name,value:u[e.name],onChange:b,placeholder:"Your ".concat(e.label)})]},e.name)),(0,a.jsxs)(d.P.div,{custom:2,initial:"hidden",animate:"visible",variants:y,className:"mb-3",children:[(0,a.jsx)(r.A.Label,{children:"Message"}),(0,a.jsx)(r.A.Control,{as:"textarea",rows:4,name:"message",value:u.message,onChange:b,placeholder:"Your Message"})]}),(0,a.jsx)(d.P.div,{custom:3,initial:"hidden",animate:"visible",variants:y,children:(0,a.jsx)(o.A,{variant:"success",type:"submit",className:"w-100",children:"Send via WhatsApp"})})]})]})}}},e=>{e.O(0,[88,194,233,824,728,908,413,106,358],()=>e(e.s=47709)),_N_E=e.O()}]);