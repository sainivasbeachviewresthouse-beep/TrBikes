(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{16414:(e,a,t)=>{"use strict";t.d(a,{v:()=>i});var r=t(15106);let s=e=>{let a,t=new Set,r=(e,r)=>{let s="function"==typeof e?e(a):e;if(!Object.is(s,a)){let e=a;a=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},a,s),t.forEach(t=>t(a,e))}},s=()=>a,l={setState:r,getState:s,getInitialState:()=>i,subscribe:e=>(t.add(e),()=>t.delete(e))},i=a=e(r,s,l);return l},l=e=>{let a=(e=>e?s(e):s)(e),t=e=>(function(e,a=e=>e){let t=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>a(e.getState()),[e,a]),r.useCallback(()=>a(e.getInitialState()),[e,a]));return r.useDebugValue(t),t})(a,e);return Object.assign(t,a),t},i=e=>e?l(e):l},22082:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(18097),s=t.n(r),l=t(15106),i=t(19178),c=t(51082);let d=l.forwardRef((e,a)=>{let{bsPrefix:t,className:r,as:l="div",...d}=e,n=(0,i.oU)(t,"row"),o=(0,i.gy)(),f=(0,i.Jm)(),m="".concat(n,"-cols"),u=[];return o.forEach(e=>{let a,t=d[e];delete d[e],null!=t&&"object"==typeof t?{cols:a}=t:a=t,null!=a&&u.push("".concat(m).concat(e!==f?"-".concat(e):"","-").concat(a))}),(0,c.jsx)(l,{ref:a,...d,className:s()(r,n,...u)})});d.displayName="Row";let n=d},35473:(e,a,t)=>{"use strict";function r(e){return[...e].sort((e,a)=>e.availability===a.availability?new Date(e.created_at||"").getTime()-new Date(a.created_at||"").getTime():e.availability?-1:1)}t.d(a,{G:()=>s});let s=(0,t(16414).v)(e=>({bikes:[],setBikes:a=>e({bikes:r(a)}),addBike:a=>e(e=>({bikes:r([a,...e.bikes])})),updateBike:a=>e(e=>({bikes:r(e.bikes.map(e=>e.id===a.id?a:e))})),removeBike:a=>e(e=>({bikes:e.bikes.filter(e=>e.id!==a)}))}))},40366:(e,a,t)=>{"use strict";t.d(a,{A:()=>k});var r=t(18097),s=t.n(r),l=t(15106),i=t(19178),c=t(51082);let d=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l="div",...d}=e;return r=(0,i.oU)(r,"card-body"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});d.displayName="CardBody";let n=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l="div",...d}=e;return r=(0,i.oU)(r,"card-footer"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});n.displayName="CardFooter";var o=t(86840);let f=l.forwardRef((e,a)=>{let{bsPrefix:t,className:r,as:d="div",...n}=e,f=(0,i.oU)(t,"card-header"),m=(0,l.useMemo)(()=>({cardHeaderBsPrefix:f}),[f]);return(0,c.jsx)(o.A.Provider,{value:m,children:(0,c.jsx)(d,{ref:a,...n,className:s()(r,f)})})});f.displayName="CardHeader";let m=l.forwardRef((e,a)=>{let{bsPrefix:t,className:r,variant:l,as:d="img",...n}=e,o=(0,i.oU)(t,"card-img");return(0,c.jsx)(d,{ref:a,className:s()(l?"".concat(o,"-").concat(l):o,r),...n})});m.displayName="CardImg";let u=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l="div",...d}=e;return r=(0,i.oU)(r,"card-img-overlay"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});u.displayName="CardImgOverlay";let x=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l="a",...d}=e;return r=(0,i.oU)(r,"card-link"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});x.displayName="CardLink";var h=t(84792);let b=(0,h.A)("h6"),j=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l=b,...d}=e;return r=(0,i.oU)(r,"card-subtitle"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});j.displayName="CardSubtitle";let N=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l="p",...d}=e;return r=(0,i.oU)(r,"card-text"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});N.displayName="CardText";let v=(0,h.A)("h5"),y=l.forwardRef((e,a)=>{let{className:t,bsPrefix:r,as:l=v,...d}=e;return r=(0,i.oU)(r,"card-title"),(0,c.jsx)(l,{ref:a,className:s()(t,r),...d})});y.displayName="CardTitle";let p=l.forwardRef((e,a)=>{let{bsPrefix:t,className:r,bg:l,text:n,border:o,body:f=!1,children:m,as:u="div",...x}=e,h=(0,i.oU)(t,"card");return(0,c.jsx)(u,{ref:a,...x,className:s()(r,h,l&&"bg-".concat(l),n&&"text-".concat(n),o&&"border-".concat(o)),children:f?(0,c.jsx)(d,{children:m}):m})});p.displayName="Card";let k=Object.assign(p,{Img:m,Title:y,Subtitle:j,Body:d,Link:x,Text:N,Header:f,Footer:n,ImgOverlay:u})},52590:(e,a,t)=>{Promise.resolve().then(t.bind(t,73350))},73350:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var r=t(51082),s=t(15106),l=t(81135),i=t(96744),c=t(22082),d=t(84452),n=t(40366),o=t(35473);function f(){let{bikes:e,setBikes:a}=(0,o.G)(),t=0===e.length;(0,s.useEffect)(()=>{let t=async()=>{try{let e=await fetch("/api/bikes"),t=await e.json();t.success&&a(t.data)}catch(e){console.error("Error fetching bikes for dashboard:",e)}};0===e.length&&t()},[e.length,a]);let{totalBikes:f,activeBikes:m,inactiveBikes:u}=(0,s.useMemo)(()=>{let a=e.length,t=e.filter(e=>e.availability).length;return{totalBikes:a,activeBikes:t,inactiveBikes:a-t}},[e]);return t?(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,r.jsx)(l.A,{animation:"border"})}):(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("h2",{className:"mb-4 fw-bold text-primary",children:"Dashboard Overview"}),0===e.length?(0,r.jsx)(i.A,{variant:"info",children:"No bikes found."}):(0,r.jsxs)(c.A,{className:"g-4",children:[(0,r.jsx)(d.A,{md:4,children:(0,r.jsx)(n.A,{className:"shadow-sm border-0 text-center p-3",children:(0,r.jsxs)(n.A.Body,{children:[(0,r.jsx)("h5",{className:"text-muted",children:"Total Bikes"}),(0,r.jsx)("h2",{className:"fw-bold text-dark",children:f})]})})}),(0,r.jsx)(d.A,{md:4,children:(0,r.jsx)(n.A,{className:"shadow-sm border-0 text-center p-3",children:(0,r.jsxs)(n.A.Body,{children:[(0,r.jsx)("h5",{className:"text-success",children:"Active Bikes"}),(0,r.jsx)("h2",{className:"fw-bold text-success",children:m})]})})}),(0,r.jsx)(d.A,{md:4,children:(0,r.jsx)(n.A,{className:"shadow-sm border-0 text-center p-3",children:(0,r.jsxs)(n.A.Body,{children:[(0,r.jsx)("h5",{className:"text-danger",children:"Inactive Bikes"}),(0,r.jsx)("h2",{className:"fw-bold text-danger",children:u})]})})})]})]})}},81135:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(18097),s=t.n(r),l=t(15106),i=t(19178),c=t(51082);let d=l.forwardRef((e,a)=>{let{bsPrefix:t,variant:r,animation:l="border",size:d,as:n="div",className:o,...f}=e;t=(0,i.oU)(t,"spinner");let m="".concat(t,"-").concat(l);return(0,c.jsx)(n,{ref:a,...f,className:s()(o,m,d&&"".concat(m,"-").concat(d),r&&"text-".concat(r))})});d.displayName="Spinner";let n=d},86840:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let r=t(15106).createContext(null);r.displayName="CardHeaderContext";let s=r}},e=>{e.O(0,[88,233,413,106,358],()=>e(e.s=52590)),_N_E=e.O()}]);