(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{5469:(e,a,r)=>{"use strict";r.d(a,{A:()=>d});var t=r(18097),s=r.n(t),n=r(15106),l=r(19178),o=r(51082);let i=n.forwardRef((e,a)=>{let{bsPrefix:r,fluid:t=!1,as:n="div",className:i,...d}=e,c=(0,l.oU)(r,"container");return(0,o.jsx)(n,{ref:a,...d,className:s()(i,t?"".concat(c).concat("string"==typeof t?"-".concat(t):"-fluid"):c)})});i.displayName="Container";let d=i},24181:(e,a,r)=>{"use strict";var t=r(11649);r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})},35919:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>f});var t=r(51082),s=r(15106),n=r(24181),l=r(5469),o=r(40366),i=r(96744),d=r(27503),c=r(67826),m=r(81135),u=r(36122);function f(){(0,u.A)({redirectIfLoggedIn:!0});let e=(0,n.useRouter)(),[a,r]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[x,y]=(0,s.useState)(!1),v=async r=>{r.preventDefault(),g(""),y(!0);try{let r=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:f})}),t=await r.json();t.success&&t.token&&t.admin?(localStorage.setItem("adminToken",t.token),localStorage.setItem("adminInfo",JSON.stringify(t.admin)),e.replace("/admin")):g(t.message||"Login failed.")}catch(e){g("Something went wrong.")}finally{y(!1)}};return(0,t.jsx)(l.A,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:(0,t.jsxs)(o.A,{className:"p-4 shadow",style:{width:"100%",maxWidth:400},children:[(0,t.jsx)("h3",{className:"text-center mb-3",children:"Admin Login"}),h&&(0,t.jsx)(i.A,{variant:"danger",children:h}),(0,t.jsxs)(d.A,{onSubmit:v,children:[(0,t.jsxs)(d.A.Group,{className:"mb-3",children:[(0,t.jsx)(d.A.Label,{children:"Email"}),(0,t.jsx)(d.A.Control,{type:"email",value:a,onChange:e=>r(e.target.value),required:!0,placeholder:"Enter email"})]}),(0,t.jsxs)(d.A.Group,{className:"mb-3",children:[(0,t.jsx)(d.A.Label,{children:"Password"}),(0,t.jsx)(d.A.Control,{type:"password",value:f,onChange:e=>p(e.target.value),required:!0,placeholder:"Enter password"})]}),(0,t.jsx)(c.A,{variant:"primary",type:"submit",className:"w-100",disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{animation:"border",size:"sm",className:"me-2"}),"Logging in..."]}):"Login"})]})]})})}},36122:(e,a,r)=>{"use strict";r.d(a,{A:()=>l});var t=r(15106),s=r(24181);class n extends Error{}function l(e){let a=(0,s.useRouter)(),{redirectIfLoggedIn:r=!1,redirectPath:l="/admin",loginPath:o="/admin/login"}=e||{};(0,t.useEffect)(()=>{let e=localStorage.getItem("adminToken");if(!e){r||a.replace(o);return}try{(function(e,a){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");a||(a={});let t=+(!0!==a.header),s=e.split(".")[t];if("string"!=typeof s)throw new n(`Invalid token specified: missing part #${t+1}`);try{r=function(e){let a=e.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=a,decodeURIComponent(atob(r).replace(/(.)/g,(e,a)=>{let r=a.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(a)}}(s)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${t+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${t+1} (${e.message})`)}})(e).exp<Date.now()/1e3?(localStorage.removeItem("adminToken"),a.replace(o)):r&&a.replace(l)}catch(e){localStorage.removeItem("adminToken"),a.replace(o)}},[a,r,l,o])}n.prototype.name="InvalidTokenError"},40366:(e,a,r)=>{"use strict";r.d(a,{A:()=>j});var t=r(18097),s=r.n(t),n=r(15106),l=r(19178),o=r(51082);let i=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n="div",...i}=e;return t=(0,l.oU)(t,"card-body"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});i.displayName="CardBody";let d=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n="div",...i}=e;return t=(0,l.oU)(t,"card-footer"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});d.displayName="CardFooter";var c=r(86840);let m=n.forwardRef((e,a)=>{let{bsPrefix:r,className:t,as:i="div",...d}=e,m=(0,l.oU)(r,"card-header"),u=(0,n.useMemo)(()=>({cardHeaderBsPrefix:m}),[m]);return(0,o.jsx)(c.A.Provider,{value:u,children:(0,o.jsx)(i,{ref:a,...d,className:s()(t,m)})})});m.displayName="CardHeader";let u=n.forwardRef((e,a)=>{let{bsPrefix:r,className:t,variant:n,as:i="img",...d}=e,c=(0,l.oU)(r,"card-img");return(0,o.jsx)(i,{ref:a,className:s()(n?"".concat(c,"-").concat(n):c,t),...d})});u.displayName="CardImg";let f=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n="div",...i}=e;return t=(0,l.oU)(t,"card-img-overlay"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});f.displayName="CardImgOverlay";let p=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n="a",...i}=e;return t=(0,l.oU)(t,"card-link"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});p.displayName="CardLink";var h=r(84792);let g=(0,h.A)("h6"),x=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n=g,...i}=e;return t=(0,l.oU)(t,"card-subtitle"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});x.displayName="CardSubtitle";let y=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n="p",...i}=e;return t=(0,l.oU)(t,"card-text"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});y.displayName="CardText";let v=(0,h.A)("h5"),N=n.forwardRef((e,a)=>{let{className:r,bsPrefix:t,as:n=v,...i}=e;return t=(0,l.oU)(t,"card-title"),(0,o.jsx)(n,{ref:a,className:s()(r,t),...i})});N.displayName="CardTitle";let w=n.forwardRef((e,a)=>{let{bsPrefix:r,className:t,bg:n,text:d,border:c,body:m=!1,children:u,as:f="div",...p}=e,h=(0,l.oU)(r,"card");return(0,o.jsx)(f,{ref:a,...p,className:s()(t,h,n&&"bg-".concat(n),d&&"text-".concat(d),c&&"border-".concat(c)),children:m?(0,o.jsx)(i,{children:u}):u})});w.displayName="Card";let j=Object.assign(w,{Img:u,Title:N,Subtitle:x,Body:i,Link:p,Text:y,Header:m,Footer:d,ImgOverlay:f})},47367:(e,a,r)=>{Promise.resolve().then(r.bind(r,35919))},81135:(e,a,r)=>{"use strict";r.d(a,{A:()=>d});var t=r(18097),s=r.n(t),n=r(15106),l=r(19178),o=r(51082);let i=n.forwardRef((e,a)=>{let{bsPrefix:r,variant:t,animation:n="border",size:i,as:d="div",className:c,...m}=e;r=(0,l.oU)(r,"spinner");let u="".concat(r,"-").concat(n);return(0,o.jsx)(d,{ref:a,...m,className:s()(c,u,i&&"".concat(u,"-").concat(i),t&&"text-".concat(t))})});i.displayName="Spinner";let d=i},86840:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let t=r(15106).createContext(null);t.displayName="CardHeaderContext";let s=t}},e=>{e.O(0,[88,233,908,413,106,358],()=>e(e.s=47367)),_N_E=e.O()}]);